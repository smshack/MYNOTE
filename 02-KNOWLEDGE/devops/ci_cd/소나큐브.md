ì¢‹ì•„ìš” ğŸ‘ ì„œëª…ì„ë‹˜ì´ ì²˜ìŒ SonarQubeë¥¼ ì“°ì‹ ë‹¤ë©´, **â€œì½”ë“œ í’ˆì§ˆ ê²€ì‚¬ ë„êµ¬ë¥¼ ë¡œì»¬ ë˜ëŠ” CI/CDì— í†µí•©í•´ì„œ ìë™ ì½”ë“œ ë¶„ì„í•˜ëŠ” íˆ´â€** ì´ë¼ëŠ” ê°ê°ìœ¼ë¡œ ì´í•´í•˜ì‹œë©´ ë©ë‹ˆë‹¤.  
ì•„ë˜ì— **ì‹¤ë¬´ ê¸°ì¤€ìœ¼ë¡œ SonarQubeë¥¼ ì²˜ìŒ ì„¸íŒ…í•˜ê³  ì‚¬ìš©í•˜ëŠ” ë°©ë²•**ì„ ë‹¨ê³„ë³„ë¡œ ì •ë¦¬í•´ë“œë¦´ê²Œìš”.

---

## ğŸŒ± 1ï¸âƒ£ SonarQube ê°œë… ê°„ë‹¨íˆ

SonarQubeëŠ” ì½”ë“œì— ëŒ€í•œ **ì •ì  ë¶„ì„(Static Analysis)** ì„ ìˆ˜í–‰í•´ ì•„ë˜ë¥¼ ê²€ì‚¬í•©ë‹ˆë‹¤:

- ë²„ê·¸ ê°€ëŠ¥ì„± ì½”ë“œ (Bug)
    
- ë³´ì•ˆ ì·¨ì•½ì  (Vulnerability)
    
- ì½”ë“œ ìŠ¤ë©œ (Code Smell: ìœ ì§€ë³´ìˆ˜ ì–´ë ¤ìš´ ì½”ë“œ)
    
- í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ (ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì–¼ë§ˆë‚˜ í•˜ëŠ”ì§€)
    
- ì¤‘ë³µ ì½”ë“œ
    

ê²°ê³¼ëŠ” ì›¹ UIë¡œ ê¹”ë”í•˜ê²Œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## âš™ï¸ 2ï¸âƒ£ ì„¤ì¹˜ ë°©ë²• (ë„ì»¤ ê¸°ì¤€)

ê°€ì¥ ì‰¬ìš´ ê±´ **Docker Composeë¡œ ë„ìš°ê¸°**ì…ë‹ˆë‹¤.  
ë‹¤ìŒ ì˜ˆì‹œë¡œ ë°”ë¡œ ë„ìš¸ ìˆ˜ ìˆì–´ìš” ğŸ‘‡

### ğŸ§© docker-compose.yml

```yaml
version: "3"
services:
  sonarqube:
    image: sonarqube:community
    container_name: sonarqube
    ports:
      - "9000:9000"
    environment:
      - SONAR_ES_BOOTSTRAP_CHECKS_DISABLE=true
    volumes:
      - sonarqube_data:/opt/sonarqube/data
      - sonarqube_logs:/opt/sonarqube/logs
      - sonarqube_extensions:/opt/sonarqube/extensions
    restart: unless-stopped

  db:
    image: postgres:15
    environment:
      - POSTGRES_USER=sonar
      - POSTGRES_PASSWORD=sonar
      - POSTGRES_DB=sonarqube
    volumes:
      - postgresql:/var/lib/postgresql
      - postgresql_data:/var/lib/postgresql/data

volumes:
  sonarqube_data:
  sonarqube_logs:
  sonarqube_extensions:
  postgresql:
  postgresql_data:
```

### ì‹¤í–‰

```bash
docker compose up -d
```

### ì ‘ì†

ğŸ‘‰ [http://localhost:9000](http://localhost:9000/)  
ê¸°ë³¸ ë¡œê·¸ì¸ ì •ë³´:

- **ID:** `admin`
    
- **PW:** `admin`  
    (ë¡œê·¸ì¸ í›„ ë¹„ë°€ë²ˆí˜¸ ë³€ê²½í•˜ë¼ê³  ë‚˜ì˜µë‹ˆë‹¤.)
    
![[Pasted image 20251112100049.png]]
---

## ğŸ”‘ 3ï¸âƒ£ í† í° ë°œê¸‰

SonarQubeì— ë¡œê·¸ì¸ í›„:

1. ìš°ìƒë‹¨ ì‚¬ìš©ì â†’ â€œMy Accountâ€ í´ë¦­
    
2. â€œSecurityâ€ íƒ­ â†’ â€œGenerate Tokenâ€
    
3. í”„ë¡œì íŠ¸ìš© í† í°ì„ í•˜ë‚˜ ë§Œë“¤ì–´ë‘¡ë‹ˆë‹¤.
    

![[Pasted image 20251112100140.png]]
---

## ğŸ§  4ï¸âƒ£ ì½”ë“œ ë¶„ì„ ë°©ë²•

### (1) ë¡œì»¬ì—ì„œ ì§ì ‘ ì‹¤í–‰

SonarQubeì—ì„œ í† í°ì„ ë°œê¸‰ë°›ê³ , CLIë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### ì„¤ì¹˜

```bash
brew install sonar-scanner   # macOS
# or
sudo apt install sonar-scanner  # Ubuntu
```

#### ì‹¤í–‰

```bash
sonar-scanner \
  -Dsonar.projectKey=my-project \
  -Dsonar.sources=. \
  -Dsonar.host.url=http://localhost:9000 \
  -Dsonar.login=<ì—¬ê¸°ì—_í† í°>
```

â†’ ì‹¤í–‰ í›„ ì½˜ì†”ì— `ANALYSIS SUCCESSFUL` ì´ ëœ¨ë©´ ëŒ€ì‹œë³´ë“œì— ê²°ê³¼ê°€ ì˜¬ë¼ì˜µë‹ˆë‹¤.

---

## âš¡ 5ï¸âƒ£ Jenkinsì— í†µí•© (CI/CD)

ì„œëª…ì„ë‹˜ì€ Jenkinsë„ ì‚¬ìš© ì¤‘ì´ë¼, CIì— ë¶™ì´ëŠ” ê²Œ ì‹¤ë¬´ì ìœ¼ë¡œ ìœ ìš©í•©ë‹ˆë‹¤.

### ì˜ˆì‹œ Jenkinsfile

```groovy
pipeline {
  agent any

  stages {
    stage('Checkout') {
      steps {
        checkout scm
      }
    }

    stage('Build') {
      steps {
        sh './gradlew build'   // ì˜ˆì‹œ: ìë°” í”„ë¡œì íŠ¸
      }
    }

    stage('SonarQube Analysis') {
      environment {
        SONAR_HOST_URL = 'http://sonarqube:9000'
        SONAR_TOKEN = credentials('sonar-token') // Jenkins Credential ë“±ë¡ í•„ìš”
      }
      steps {
        withSonarQubeEnv('SonarQube') {
          sh """
          ./gradlew sonarqube \
            -Dsonar.projectKey=my-project \
            -Dsonar.host.url=$SONAR_HOST_URL \
            -Dsonar.login=$SONAR_TOKEN
          """
        }
      }
    }

    stage('Quality Gate') {
      steps {
        timeout(time: 5, unit: 'MINUTES') {
          waitForQualityGate abortPipeline: true
        }
      }
    }
  }
}
```

â†’ Jenkinsì—ì„œ **SonarQube Plugin** ì„¤ì¹˜ í›„,  
`Manage Jenkins â†’ Configure System â†’ SonarQube servers` ì—ì„œ ë“±ë¡í•˜ë©´ ë©ë‹ˆë‹¤.

---

## ğŸ“Š 6ï¸âƒ£ ê²°ê³¼ í™•ì¸

SonarQube ì›¹ UIì— ì ‘ì†í•˜ë©´:

- **Project Overview**: ì ìˆ˜ (A~E)
    
- **Issues íƒ­**: ë²„ê·¸/ë³´ì•ˆ/ìŠ¤ë©œ ëª©ë¡
    
- **Coverage íƒ­**: í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ì‹œê°í™”
    
- **Duplications**: ì¤‘ë³µ ì½”ë“œ í‘œì‹œ
    

---

## ğŸ¯ 7ï¸âƒ£ ìì£¼ ì“°ëŠ” ì–¸ì–´ë³„ ì„¤ì • ì˜ˆì‹œ

|ì–¸ì–´|ì„¤ì • ë°©ë²•|
|---|---|
|**Java**|Gradle/Maven í”ŒëŸ¬ê·¸ì¸ ìë™ ë¶„ì„|
|**JavaScript/React**|`sonar-scanner` CLIë¡œ ì§ì ‘ ë¶„ì„|
|**Python**|`sonar-scanner` + pylint ì—°ë™ ê°€ëŠ¥|
|**TypeScript**|tsconfig.json ê¸°ë°˜ìœ¼ë¡œ ê²€ì‚¬ ê°€ëŠ¥|

---

## ğŸ’¡ íŒ

- Jenkins + SonarQube + SonarScannerëŠ” CI/CD íŒŒì´í”„ë¼ì¸ í’ˆì§ˆ ê´€ë¦¬ì˜ ê¸°ë³¸ ì¡°í•©ì…ë‹ˆë‹¤.
    
- SonarQube CommunityëŠ” ë¬´ë£Œì§€ë§Œ, **Branch ë¶„ì„/PR ë¶„ì„ì€ Developer Edition ì´ìƒ**ì´ í•„ìš”í•©ë‹ˆë‹¤.
    
- `sonar-project.properties` íŒŒì¼ ë§Œë“¤ì–´ë‘ë©´ ë§¤ë²ˆ ì˜µì…˜ì„ CLIì— ì•ˆ ë„£ì–´ë„ ë©ë‹ˆë‹¤.
    

```properties
sonar.projectKey=my-project
sonar.projectName=My Project
sonar.sources=src
sonar.host.url=http://localhost:9000
sonar.language=java
```

---

ì›í•˜ì‹ ë‹¤ë©´ ğŸ”§ â€œJenkins + SonarQube ì—°ë™ ì˜ˆì œâ€ë¥¼ ì‹¤ì œ **Docker í™˜ê²½ êµ¬ì„±**ìœ¼ë¡œ ì „ì²´ êµ¬ì„±ë„ ê·¸ë ¤ë“œë¦´ê¹Œìš”?  
(ì˜ˆ: Jenkins + SonarQube + PostgreSQL ë„ì»¤ í™˜ê²½ + í† í° ì—°ë™)